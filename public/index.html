<!DOCTYPE html>
<html>
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&family=Figtree:ital,wght@0,300..900;1,300..900&display=swap" rel="stylesheet">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>2025 goal-setting workshop in Cleveland, Ohio &hearts; The Kaleidoscope Year</title>
    <meta name="description" content="Join is on January 14 to reflect and goal-set individually, together. We’ll provide the framework for whatever you want to accomplish in 2025.">
    <meta name="image" property="og:image" content="/kaleidoscope.jpg">
    <meta name="twitter:image" content="/kaleidoscope.jpg">
    
    <link rel="stylesheet" href="/style.css">
    <script src="https://js.stripe.com/v3/"></script>
  </head>
  <body>
    <header>
      <h1>
        <span class="title">
          The
          <span class="kaleidoscope">Kaleido&shy;scope</span>
          Year</span><span class="sr-only">:</span>
        <span class="subtitle">
          Quarterly goal-setting workshop series
        </span>
      </h1>
    </header>
    <main>
      <p>
        Ready to make 2025 yours? The Kaleidoscope Year is a quarterly program to reflect and goal-set individually, together. 
      </p>
        
      <h2 class="sr-only">Date & Time</h2>
      <div class="details">
      <i aria-hidden="true">
        <svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="m3.5 0c.41421 0 .75.335786.75.75v.25h7.5v-.25c0-.414214.3358-.75.75-.75s.75.335786.75.75v.25h.75c1.1046 0 2 .89543 2 2v11c0 1.1046-.8954 2-2 2h-12c-1.104569 0-2-.8954-2-2v-11c0-1.10457.895431-2 2-2h.75v-.25c0-.414214.33579-.75.75-.75zm-2 14v-10h13v10c0 .2761-.2239.5-.5.5h-12c-.27614 0-.5-.2239-.5-.5zm6.67318-2.7443h1.68193v.3777c0 .3405.27609.6166.61669.6166.3405 0 .6166-.2761.6166-.6166v-.3777h.098c.318 0 .5757-.2577.5757-.5756s-.2577-.5757-.5757-.5757h-.098v-2.83111c0-.3392-.2749-.61417-.6141-.61417l-.0339-.00001-.1788.00002-.1723-.00001h-.0241c-.19394 0-.37436.09932-.47809.26318l-2.03223 3.2102c-.07412.1171-.11347.2529-.11347.3914 0 .4042.32762.7318.73177.7318zm.75214-1.1513.93477-1.47964v1.47964zm-2.25414 1.5103v-4.20558c0-.41422-.33579-.75-.75-.75h-.09932c-.14575 0-.28834.04247-.41034.12221l-1.00607.65759c-.15769.10307-.25274.27874-.25274.46713 0 .44333.49202.70966.86321.46725l.38466-.25121v3.49261c0 .3509.28443.6353.6353.6353.35086 0 .6353-.2844.6353-.6353z" fill="currentColor" fill-rule="evenodd"/></svg>
      </i>
      <p>
        <time class="subheading" datetime="2025-01-14T18:00-05:00">Thursday, January 14</time>
        6:30 PM – 8:00 PM
      </p></div>
      
      <h2 class="sr-only">Location</h2>
      <div class="details">
        <i aria-hidden="true">
          <svg fill="none" height="16" viewBox="0 0 12 16" width="12" xmlns="http://www.w3.org/2000/svg"><path d="m6 16s6-5.686 6-10c0-1.5913-.6321-3.11742-1.7574-4.24264-1.12518-1.125219-2.6513-1.75736-4.2426-1.75736s-3.11742.632141-4.24264 1.75736c-1.125219 1.12522-1.75735998 2.65134-1.75736 4.24264 0 4.314 6 10 6 10zm0-7c-.79565 0-1.55871-.31607-2.12132-.87868s-.87868-1.32567-.87868-2.12132.31607-1.55871.87868-2.12132 1.32567-.87868 2.12132-.87868 1.55871.31607 2.12132.87868.87868 1.32567.87868 2.12132-.31607 1.55871-.87868 2.12132-1.32567.87868-2.12132.87868z" fill="currentColor"/></svg>
        </i>
        <p>
          <b>The Lounge</b> (<a href="https://maps.app.goo.gl/tkRRJbUaHLGMdgky5">Google Maps</a>)<br />
          17008 Madison Ave.<br />
          Lakewood, OH 44107
        </p>
      </div>
      
      <div class="details">
        <i aria-hidden="true">
          <svg fill="none" height="16" viewBox="0 0 16 16" width="16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="m2 4c-.27614 0-.5.22386-.5.5v.76125c.90222.57736 1.5 1.58761 1.5 2.73875s-.59778 2.1614-1.5 2.7387v.7613c0 .2761.22386.5.5.5h12c.2761 0 .5-.2239.5-.5v-.7613c-.9022-.5773-1.5-1.58756-1.5-2.7387s.5978-2.16139 1.5-2.73875v-.76125c0-.27614-.2239-.5-.5-.5zm14 2.26772v-1.76772c0-1.10457-.8954-2-2-2h-12c-1.104569 0-2 .89543-2 2v1.76772c.848074.12131 1.5.85066 1.5 1.73228s-.651926 1.61097-1.5 1.73228v1.76772c0 1.1046.895431 2 2 2h12c1.1046 0 2-.8954 2-2v-1.76772c-.8481-.12131-1.5-.85066-1.5-1.73228s.6519-1.61097 1.5-1.73228z" fill-rule="evenodd"/><path d="m5 5.5c0 .27614-.22386.5-.5.5s-.5-.22386-.5-.5.22386-.5.5-.5.5.22386.5.5z"/><path d="m12 5.5c0 .27614-.2239.5-.5.5s-.5-.22386-.5-.5.2239-.5.5-.5.5.22386.5.5z"/><path d="m5 10.5c0 .2761-.22386.5-.5.5s-.5-.2239-.5-.5.22386-.5.5-.5.5.2239.5.5z"/><path d="m12 10.5c0 .2761-.2239.5-.5.5s-.5-.2239-.5-.5.2239-.5.5-.5.5.2239.5.5z"/><path d="m5 8.83002c0 .27614-.22386.5-.5.5s-.5-.22386-.5-.5c0-.27615.22386-.5.5-.5s.5.22385.5.5z"/><path d="m12 8.83002c0 .27614-.2239.5-.5.5s-.5-.22386-.5-.5c0-.27615.2239-.5.5-.5s.5.22385.5.5z"/><path d="m5 7.15997c0 .27615-.22386.5-.5.5s-.5-.22385-.5-.5c0-.27614.22386-.5.5-.5s.5.22386.5.5z"/><path d="m12 7.15997c0 .27615-.2239.5-.5.5s-.5-.22385-.5-.5c0-.27614.2239-.5.5-.5s.5.22386.5.5z"/></g></svg>
        </i>
        <button class="button rsvp-button" id="rsvp-button" aria-haspopup="dialog">RSVP <u>($30 per person)</u></button>
      </div>
  
      <div 
        id="rsvp-modal" 
        class="modal"
        role="dialog"
        aria-labelledby="modal-title"
        aria-modal="true"
        aria-hidden="true"
      >
        <div class="modal-content">
          <button
            class="close" 
            aria-label="Close RSVP form"
            type="button"
          >
            &times;
          </button>
          <h2>RSVP for January 14</h2>
          <form id="payment-form" class="form-container">
            <div>
              <label for="name">
                Name and pronouns (required)
              </label>
              <input id="name" name="name" type="text" required autocomplete="nickname" />
            </div>
            <div>
              <label for="a11y">
                Do you require accessible accomodations?
              </label>
              <input id="a11y" name="a11y" type="text">
            </div>
            <div>
              <label for="allergy">
                Please specify any dietary restrictions.
              </label>
              <input id="allergy" name="allergy" type="text">
            </div>

            <button class="button checkout-button" type="submit" id="checkout-button">
              Buy ticket <u>($30 per person)</u>
            </button>
          </form>
        </div>
      </div>
        
      <div>
        <p>
          In a cozy and inspiring space, we’ll provide the framework for whatever you want to accomplish in 2025. 
          
        </p>
        
        <h2>What you’ll get</h2>
        <ul class="benefits">
          <li>Good company in a warm atmosphere</li>
          <li>Delicious snacks and bevvies</li>
          <li>Reflection + planning worksheets</li>
          <li>No guilt, no shame, no negative self-talk</li>
          <li>No toxic positivity, no woo-woo metaphysical guidance</li>
          <li>No girlbossing, no productivity hacks, no hustle culture</li>
          <li>Community accountability and support</li>
        </ul>
        
        <p>
          Leave with a plan to unfold your 2025 with intention and confidence. We’ll get together again in April, July, and October to track our progress, unblock challenges, and maintain momentum.
        </p>
        
        <p>
          <em>The magic starts <span id="countdown">soon</span>.</em>
        </p>
      </div>
    </main>
    
    <section>
      <h2>FAQ</h2>
      <div class="faq">
        <div>
          <h3>What should I bring?</h3>
          <p>Just yourself! All materials and writing instruments will be provided.</p>
        </div>
        <div>
          <h3>Do I have to attend the whole year?</h3>
          <p>Nope! Tickets are sold per-event, so you can just come to the January session to see if it’s the right vibe. RSVPs to April, July, and October events will open one month before each workshop.</p>
        </div>
        <div>
          <h3>What payment methods do you accept?</h3>
          <p>Debit/credit card, Cash App, Klarna, and Amazon Pay. Apple Pay is available on iOS devices.</p>
        </div>
        <div>
          <h3>Where should I park?</h3>
          <p>Limited street parking is available on Madison Ave. (metered spots are free after 6pm) and side streets. We encourage carpooling or taking the <a href="https://www.riderta.com/routes/25">25 bus via RTA</a> (Westbound stop: Winton; Eastbound stop: Larchmont).</p>
        </div>
        <div>
          <h3>Is this event all ages?</h3>
          <p>The Kaleidoscope Year is for attendees 21+ as alcohol will be present.</p>
        </div>
        <div>
          <h3>Who is organizing this event?</h3>
          <p>I’m <a href="https://skullface.me">Skully</a>, a creative generalist in Cleveland. I’m using my passion for planning, journaling, connecting, and coaching to try something new this year!</p>
        </div>
        <div>
          <h3>What is the event refund policy?</h3>
          <p>Full refunds are available until January 7, 2025. After that, you can transfer your ticket to another person (please coordinate with the transferee). <a href="mailto:meow@skullface.me">Email Skully</a> to initiate a refund or ticket transfer.</p>
        </div>
        <div>
          <h3>Do you offer free or discounted tickets?</h3>
          <p>A $5 discount is available for trans folks and BIPOC, no questions asked. Just <a href="mailto:meow@skullface.me">Email Skully</a> for the code.</p>
        </div>
        <div>
          <h3>What precautions are you taking against COVID-19?</h3>
          <p>Masks are not required, but they are highly encouraged. Masks will be provided at no cost to any attendees who wish to wear one. Hand sanitizer will be available at each table. An air purifier will be running in the space. We keep us safe.</p>
        </div>
        <div>
          <h3>What is the event’s code of conduct?</h3>
          <p>Don’t be a dick. Absolutely zero tolerance for harrassment or abusive language/behavior. No cops, no TERFS, no Zionists. </p>
        </div>
      </div>
    </section>
    <footer>
      <p>Please get in touch with any other questions! ♡ Looking forward to <em>looking forward</em> together.</p>

      <div class="links">
        <a href="https://instagram.com/skvllface" title="IG: @skvllface">
          <svg fill="none" height="17" viewBox="0 0 16 17" width="16" xmlns="http://www.w3.org/2000/svg"><g fill="currentColor"><path clip-rule="evenodd" d="m8 10.75c1.38071 0 2.5-1.11929 2.5-2.5s-1.11929-2.5-2.5-2.5-2.5 1.11929-2.5 2.5 1.11929 2.5 2.5 2.5zm0 1.5c2.2091 0 4-1.7909 4-4 0-2.20914-1.7909-4-4-4-2.20914 0-4 1.79086-4 4 0 2.2091 1.79086 4 4 4z" fill-rule="evenodd"/><path d="m13.5 4c0 .69036-.5596 1.25-1.25 1.25s-1.25-.55964-1.25-1.25.5596-1.25 1.25-1.25 1.25.55964 1.25 1.25z"/><path clip-rule="evenodd" d="m12 1.75h-8c-1.38071 0-2.5 1.11929-2.5 2.5v8c0 1.3807 1.11929 2.5 2.5 2.5h8c1.3807 0 2.5-1.1193 2.5-2.5v-8c0-1.38071-1.1193-2.5-2.5-2.5zm-8-1.5c-2.20914 0-4 1.79086-4 4v8c0 2.2091 1.79086 4 4 4h8c2.2091 0 4-1.7909 4-4v-8c0-2.20914-1.7909-4-4-4z" fill-rule="evenodd"/></g></svg>
        </a>
      
        <span class="copy-element">
          <button class="copy-button" title="Copy email address: meow@skullface.me">
            <svg fill="none" height="17" viewBox="0 0 21 17" width="21" xmlns="http://www.w3.org/2000/svg"><g clip-rule="evenodd" fill="currentColor" fill-rule="evenodd"><path d="m17.5 1.77783h-14.5c-.74994 0-1.37134.55035-1.48235 1.2692.0194.01138.03847.02373.05713.03706l3.98611 2.84723c.33706.24075.41513.70917.17437 1.04622-.24075.33706-.70917.41513-1.04623.17438l-3.18903-2.27789v7.39087l3.79695-2.3731c.35125-.21953.81397-.11275 1.0335.2385.21953.3513.11275.814-.2385 1.0335l-4.4176 2.761c.25193.4744.75106.7975 1.32565.7975h14.5c.5777 0 1.0792-.3266 1.3297-.8053l-3.8906-2.779c-.3371-.2407-.4151-.7091-.1744-1.0462.2408-.33707.7092-.41514 1.0463-.17438l3.189 2.27788v-7.22365l-2.5755 2.14621c-.3182.26518-.7911.22218-1.0563-.09602-.2651-.31821-.2221-.79113.0961-1.05631l3.4166-2.84722c.0324-.02695.0663-.05071.1014-.07133-.111-.71882-.7324-1.26915-1.4823-1.26915zm-14.5-1.499998c-1.65685 0-3 1.343148-3 2.999998v9.94447c0 1.6568 1.34315 3 3 3h14.5c1.6569 0 3-1.3432 3-3v-9.94447c0-1.65685-1.3431-2.999998-3-2.999998z"/><path d="m10.5347 6.92748c.0037-.53388.3557-2.09411 1.7418-2.09411 1.7419 0 2.3224 1.57693 1.7419 3.15385-.5806 1.5769-2.1289 2.80338-3.4837 3.67948-1.35479-.8761-2.90316-2.10258-3.4837-3.67948-.58054-1.57692.00003-3.15385 1.74188-3.15385 1.38612 0 1.73812 1.56023 1.74182 2.09411z"/></g></svg>
            <span role="status" aria-live="polite" class="copy-feedback">Email address copied</span>
          </button>
        </span>
      </div>
    </footer>

    <script>
      // Countown to January 14
      function daysUntilJanuary14() {
        const today = new Date();
        const nextJanuary14 = new Date(today.getFullYear(), 0, 14);
        if (today > nextJanuary14) {
          nextJanuary14.setFullYear(today.getFullYear() + 1);
        }
        const oneDay = 24 * 60 * 60 * 1000;
        const daysRemaining = Math.ceil((nextJanuary14 - today) / oneDay);
        return daysRemaining;
      }

      const countdownElement = document.getElementById('countdown');
      countdownElement.innerText = `in ${daysUntilJanuary14()} days`;
      
      // Copy email address
      const copyElement = document.querySelector(".copy-element");
      const copyButton = copyElement.querySelector(".copy-button");
      const copyFeedback = copyElement.querySelector(".copy-feedback");

      function copyEmail() {
        const email = copyButton.textContent;

        navigator.clipboard
          .writeText(email)
          .then(() => {
            copyFeedback.style.display = "block";
            copyFeedback.style.opacity = "1";

            copyButton.setAttribute("data-status", "copied");

            setTimeout(() => {
              copyFeedback.style.opacity = "0";
              copyButton.removeAttribute("data-status");
            }, 1500);
          })
          .catch((err) => {
            console.error("Failed to copy text:", err);
          });
      }

      copyButton.addEventListener("click", copyEmail);
      copyButton.addEventListener("keydown", (event) => {
        if (event.key === "Enter" || event.key === " ") {
          event.preventDefault();
          copyEmail();
        }
      });

      // Show RSVP form with modal
      const modal = document.getElementById('rsvp-modal');
      const modalButton = document.getElementById('rsvp-button');
      const closeButton = modal.querySelector('.close');
      const form = document.getElementById('payment-form');
      
      let lastFocusedElement;
      const getFocusableElements = () => {
        return Array.from(
          modal.querySelectorAll(
            'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
          )
        );
      };

      const openModal = () => {
        lastFocusedElement = document.activeElement;
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';

        const focusableElements = getFocusableElements();
        if (focusableElements.length) focusableElements[0].focus();
      };

      const closeModal = () => {
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';

        if (lastFocusedElement) {
          lastFocusedElement.focus();
        }
      };

      const trapFocus = (event) => {
        if (!modal.classList.contains('show')) return;

        const focusableElements = getFocusableElements();
        const firstFocusableElement = focusableElements[0];
        const lastFocusableElement = focusableElements[focusableElements.length - 1];

        if (!modal.contains(document.activeElement)) {
          firstFocusableElement.focus();
          event.preventDefault();
        }

        if (event.key === 'Tab') {
          if (event.shiftKey) {
            if (document.activeElement === firstFocusableElement) {
              lastFocusableElement.focus();
              event.preventDefault();
            }
          } else {
            if (document.activeElement === lastFocusableElement) {
              firstFocusableElement.focus();
              event.preventDefault();
            }
          }
        }
      };

      modalButton.addEventListener('click', openModal);
      closeButton.addEventListener('click', closeModal);

      document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && modal.classList.contains('show')) {
          closeModal();
        }
      });

      document.addEventListener('keydown', trapFocus);

      modal.addEventListener('click', (event) => {
        if (event.target === modal) {
          closeModal();
        }
      });

      // Submit form data
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const button = document.getElementById('checkout-button');
        button.disabled = true;
        button.innerHTML = 'Loading…';
        
        try {
          const formData = {
            name: document.getElementById('name').value,
            a11y: document.getElementById('a11y').value || undefined,
            allergy: document.getElementById('allergy').value || undefined
          };
     
          const response = await fetch('/api/checkout', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formData)
        });

        const data = await response.json();

        if (!response.ok) {
          throw new Error(data.error || `HTTP error! status: ${response.status}`);
        }

        const { url } = data;
        
        if (url) {
          window.location.href = url;
        } else {
          throw new Error('Checkout URL missing');
        }
        } catch (error) {
          console.error('Error:', error);
          button.disabled = false;
          button.innerHTML = 'Buy ticket <u>($30 per person)</u>';
          alert('Sorry, something went wrong. Please try again!');
        }
      });
  </script>
  </body>
</html>